@tailwind base;       /* 引入 Tailwind 的基础样式 */
@tailwind components; /* 引入 Tailwind 的组件样式 */
@tailwind utilities;  /* 引入 Tailwind 的工具类样式 */

html {
  overflow-x: hidden; /* 禁止页面横向滚动 */
}

.wrapper {
  min-height: 100vh;            /* 页面最小高度为视口高度，撑满屏幕 */
  display: flex;                /* 启用 Flex 布局 */
  flex-wrap: nowrap;           /* 禁止子元素换行 */
  align-items: stretch;        /* 子元素高度拉伸 */
  justify-content: flex-start; /* 左对齐子元素 */
  flex-direction: column;      /* 垂直排列子元素 */
}

.sticky-nav {
  position: sticky;                 /* 粘性定位导航条 */
  z-index: 10;                      /* 保证在顶部显示 */
  top: -1px;                        /* 微调定位 */
  -webkit-backdrop-filter: blur(5px); /* 模糊背景（Safari） */
  backdrop-filter: blur(5px);         /* 模糊背景 */
  transition: all 0.5s cubic-bezier(0.4, 0, 0, 1); /* 平滑过渡 */
  border-bottom-color: transparent;  /* 初始隐藏底部边框 */
}

.sticky-nav-full {
  @apply border-b border-opacity-50 border-gray-200 dark:border-gray-600 dark:border-opacity-50; /* 半透明底部边框 */
}

.header-name {
  overflow: hidden; /* 避免内容溢出 */
}

.sticky-nav-full .nav {
  @apply text-gray-600 dark:text-gray-300; /* 导航文字颜色适配暗黑模式 */
}

nav {
  flex-wrap: wrap;   /* 导航条内容换行 */
  line-height: 1.5em; /* 提高可读性 */
}

.article-tags::-webkit-scrollbar,
.tag-container ul::-webkit-scrollbar {
  width: 0 !important; /* 隐藏滚动条（Chrome） */
}

.tag-container ul {
  -ms-overflow-style: none;            /* IE 隐藏滚动条 */
  overflow: -moz-scrollbars-none;     /* Firefox 隐藏滚动条 */
  user-select: none;                  /* 禁止文字选中（多浏览器支持） */
}

@media (min-width: 768px) {
  .sticky-nav-full {
    @apply max-w-full border-b border-opacity-50 border-gray-200 dark:border-gray-600 dark:border-opacity-50; /* 响应式边框 */
  }
  .header-name {
    display: block;                                                       /* 显示标题 */
    transition: all 0.5s cubic-bezier(0.4, 0, 0, 1);                        /* 平滑过渡 */
  }
  .sticky-nav-full .header-name {
    @apply dark:text-gray-300 text-gray-600;                              /* 标题颜色适配暗色 */
  }
}

@supports not (backdrop-filter: none) {
  .sticky-nav {
    -webkit-backdrop-filter: none; /* 兼容处理 */
    backdrop-filter: none;
    @apply bg-day dark:bg-gray-800; /* 无滤镜时使用背景色 */
  }
}

.shadow-card {
  box-shadow: /* 多层次阴影增强层次感 */
    rgba(0, 0, 0, 0.07) 0px 1px 2px,
    rgba(0, 0, 0, 0.07) 0px 2px 4px,
    rgba(0, 0, 0, 0.07) 0px 4px 8px,
    rgba(0, 0, 0, 0.07) 0px 8px 16px,
    rgba(0, 0, 0, 0.07) 0px 16px 32px,
    rgba(0, 0, 0, 0.07) 0px 32px 64px;
}

.gt-meta {
  @apply dark:text-gray-300; /* 适配暗黑主题 */
}

#waifu {
  @apply right-auto left-0 hidden lg:block z-10 !important; /* 只在桌面端显示 */
}

.scroll-hidden {
  -ms-overflow-style: none;      /* IE 隐藏滚动条 */
  overflow: -moz-scrollbars-none; /* Firefox 隐藏滚动条 */
  scrollbar-width: none;         /* Firefox 隐藏滚动条标准写法 */
}

.scroll-hidden::-webkit-scrollbar {
  width: 0 !important; /* Chrome 隐藏滚动条 */
}

.glassmorphism {
  background: hsla(0, 0%, 100%, 0.05); /* 半透明背景 */
  -webkit-backdrop-filter: blur(10px); /* 模糊效果（Safari） */
  backdrop-filter: blur(10px);         /* 模糊效果 */
}

.medium-zoom-overlay {
  background: none !important; /* 去除 zoom 背景遮罩 */
}

.shadow-text {
  text-shadow: 0.1em 0.1em 0.2em black; /* 黑色阴影增强可读性 */
}

.notion-code-copy-button > svg {
  pointer-events: none; /* 防止 SVG 影响点击 */
}

.fireworks {
  position: fixed;         /* 固定定位 */
  left: 0;
  top: 0;
  z-index: 1000;           /* 顶层展示 */
  pointer-events: none;    /* 不阻塞点击 */
}

[data-waline] p {
  color: var(--waline-color);  /* 使用 waline 主题颜色 */
  @apply dark:text-gray-200 !important; /* 暗黑模式兼容 */
}

.waline-recent-content p {
  overflow: hidden;                  /* 隐藏多余文字 */
  text-overflow: ellipsis;          /* 添加省略号 */
  display: -webkit-box;
  -webkit-line-clamp: 2;            /* 限制行数 */
  -webkit-box-orient: vertical;     /* 垂直布局 */
}

.waline-recent-content .wl-emoji {
  height: 1.1rem !important;            /* 统一表情大小 */
  display: inline-block !important;
  line-height: 1.25rem !important;
  vertical-align: text-bottom !important;
}

.vcontent .wl-emoji {
  display: inline-block;
  vertical-align: baseline;
  height: 1.25em;
  margin: -0.125em 0.25em;
}

.tk-main a {
  @apply text-blue-700; /* Twikoo 评论区超链接样式 */
}

.el-loading-spinner {
  @apply flex justify-center items-center; /* 居中加载动画 */
}

/* 留言墙页面瀑布流布局 */
body.page-message .tk-comments-container {
  column-count: 3;     /* 分为三列 */
  column-gap: 20px;    /* 列间距 */
  padding: 20px;       /* 内边距 */
}

body.page-message .tk-comment {
  break-inside: avoid;                         /* 防止中断列布局 */
  background: #fffce6;                         /* 背景颜色 */
  border-radius: 12px;                         /* 圆角 */
  padding: 16px;                               /* 内边距 */
  margin-bottom: 20px;                         /* 卡片间距 */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);   /* 轻微阴影 */
  transition: transform 0.2s;                  /* 鼠标悬浮过渡 */
}

body.page-message .tk-comment:hover {
  transform: translateY(-4px); /* 悬浮上移 */
}

@media (max-width: 768px) {
  body.page-message .tk-comments-container {
    column-count: 1; /* 小屏一列 */
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  body.page-message .tk-comments-container {
    column-count: 2; /* 中等屏幕两列 */
  }
}

/* Webmention 样式 */
.webmention-block {
  background: rgba(0, 116, 222, 0.2); /* 淡蓝色背景 */
  padding: 1rem 2rem;                 /* 内边距 */
  border-radius: 5px;                 /* 圆角 */
}

.webmention-header {
  font-style: italic; /* 斜体 */
  font-weight: 700;
  font-size: 16px;
  margin-bottom: 0.5rem;
}

.webmention-block-intro a {
  color: #0000ee; /* 链接颜色 */
  text-decoration: underline;
}

.webmention {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(0, 0, 0, 0.2); /* 顶部分隔线 */
}

.webmention-counts {
  padding: 16px 0;
  font-weight: bold;
}

.webmention-counts .count {
  font-weight: bold;
  margin-right: 0.2rem;
}

.webmention-counts .counts > span:not(:last-child):after {
  content: ' • '; /* 用点号分隔 */
}

a.avatar-wrapper {
  display: inline-block;
  width: 50px;
  height: 50px;
  position: relative;
}

.webmention-avatars .avatar-wrapper {
  margin-right: -8px; /* 重叠头像 */
}

.avatar {
  border-radius: 50%;
  margin: 0;
  border: 3px solid rgba(0, 116, 222, 0.5); /* 蓝色边框 */
}

.replies {
  margin: 0;
  padding: 0;
}

.reply {
  list-style: none;
  display: flex;
  position: relative;
  padding: 0;
  align-items: flex-start;
  margin-top: 0.6rem;
}

.reply p {
  margin: 0;
}

.reply .text {
  margin-left: 1rem;
  font-size: 14px;
}

.reply-author-name {
  font-weight: 500;
}

.forbid-copy {
  user-select: none; /* 禁止复制文字 */
  -webkit-user-select: none;
  -ms-user-select: none;
}

.writing-vertical {
  writing-mode: vertical-rl;  /* 文字垂直书写 */
  text-orientation: upright; /* 保持直立 */
}

@media (max-width: 700px) {
  button#chatbase-bubble-button {
    margin-bottom: 42px; /* 防止被遮挡 */
    margin-right: 20px;
  }
}

img {
  display: unset; /* 重置图片 display 方式 */
}

.adsbygoogle {
  overflow: hidden; /* 防止广告超出 */
}

.lazy-image-placeholder {
  background:
    linear-gradient(90deg, #0001 33%, #0005 50%, #0001 66%) #f2f2f2; /* 骨架屏渐变背景 */
  background-size: 300% 100%;
  animation: l1 1s infinite linear; /* 动画 */
}

@keyframes l1 {
  0% {
    background-position: right; /* 起始位置 */
  }
}
